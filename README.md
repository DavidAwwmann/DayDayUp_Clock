# DayDayUp_Clock_v1.0
跟进计划表的时钟，原 15Clock_v2.1

本程序系 DavidAwwmann 本人编写，仅在 GitHub 上由本人账号上传。未经许可请勿商用

代码均使用 Python 编写，导入了第三方库`pygame`和`zhdate`，需预先安装

## 使用指南

### 1. 下载与配置

下载`codes`文件夹中的代码，文件除`DDU_Clock.ico`无需使用外，须与该项目文件结构一致；运行`main.py`，即打开程序。  
也可直接使用`executables`文件夹中打包好的exe文件，将包含`buttons.png`和`icon.png`的`GUI`文件夹置于exe同目录下。  
  
首次运行后，程序会在其同目录下生成一个`timetable.txt`文件，其中记录了程序运行的参数，包含三行文本：  
第一行 为时间计划表，格式为：`[<时段1>,<时段2>,<时段3>,<...>]`，其中`<时段> = [<时段起点>,<时段终点>,'周一计划','周二计划','周三计划','周四计划','周五计划','周六计划','周日计划'], <时段起/终点> = 100\*小时+分钟`，当天留空(即`''`)的计划会被忽略。  
  
第二行 为`['','']`，系计划加入的标语显示功能，暂时无效果。  
  
第三行 为程序的设置参数，分别控制了程序打开时默认的暗色模式(`darkMode: True | False = True`)、简略模式级别(`compressLevel: int = 0`)、窗口大小(`screenSize: tuple[int, int] = (600, 600)`)、是否跟进计划(`doTimetableSearch: True | False = True`)。这些参数都仅影响运行程序时的初始设置，可以在程序内手动调整。  

参数文件内容的修改尚未实现图形化操作界面，将在不久后加入。DayDayUp_Clock所有版本的参数文件互相兼容。  
***注意：如果在该文件中需用到中文字符，须将文件编码格式设置为`GBK`或`ANSI`，否则会导致乱码或崩溃！***  

### 2. 程序内操作

双击运行程序，在默认设置参数下，程序将打开一个600*600像素的暗色窗口，右侧为计划单(无计划即为空)，左侧上方为一时钟，时钟下方为目前计划名称及其有效时段(若目前时间不符合计划单中任一时段则不显示)。三色的指针分别贴时钟表盘边缘移动，表盘中央为三行显示文本，由上至下分别为当前日期(`XXXX年X月XX日 周X`)、当前时间(`XX:XX:XX`)、当前农历日期(`XX年X月XX`)，暂不支持除汉语以外语言。  

窗口右下角有四个按钮，从右至左分别为`简略模式`、`暗色模式`、`是否跟进计划`与`重新读取数据`，鼠标悬停于对应按钮上方会显示文本提示。  
`简略模式`共三挡(`0`, `1`, `2`)，其中`0`挡显示全部数据；`1`挡隐藏计划栏并将剩余部分居中，同时`是否跟进计划`和`重新读取数据`两个按钮也会被隐藏；`2`挡则将时钟表盘占满窗口，同时隐藏目前计划的有效时段，并将目前计划名称显示于表盘内三行文本之下(若目前无计划则不显示)。  
`暗色模式`能够切换窗口的颜色主题。  
`是否跟进计划`控制程序是否搜索当前时间在计划单中的计划，若关闭则不会在计划单中用颜色明暗区分“已完成”和“未完成”的计划，并不再将当前计划显示于时钟表盘下方(`简略模式`为`0`挡或`1`挡时)或内部(`简略模式`为`2`挡时)。  
`重新读取数据`会在按下时重新读取`timetable.txt`中的所有数据并刷新显示设置(包括窗口大小)。

窗口可以自由调整大小，其上的所有元素都会自动适应。若要最小化、最大化或关闭窗口，请使用标题栏右上角的对应选项。

### 3. 可能的故障及解决方案

若程序完全无法启动，且提示无权限访问文件等错误，可能系杀毒软件查杀所致。360安全卫士经常将该程序误报为木马，**请自行甄别**，如需恢复请打开杀毒软件将程序添加信任。  

若程序能够启动但无法实现功能，或能实现功能但功能异常，可能为`timetable.txt`或`GUI`文件夹内容出现错误。请再次检查`timetable.txt`的编码格式是否已设置为`GBK`或`ANSI`，其中的内容格式是否正确，以及`GUI`文件夹是否已包含`buttons.png`和`icon.png`且与主程序文件处于同一目录下。  

由于此程序仅在 Windows10 x64 系统上开发和测试，故操作系统的版本差异也可能引发故障。如果遇到无法解决的故障或程序自身BUG，请在GitHub留言或向`2439886732@qq.com`发送邮件反馈。本人学业繁忙，可能无法做到一一回复，还请谅解！

## 更新内容记录

### Pre - 1.0 (原 15Clock v1.0)
- 基于 Python Turtle 的时钟，具备时钟表盘及数字显示的日期与时间
- 能够从外部文件`timetable.txt`读取时间表，并根据时间跟进并显示计划
- 时钟表盘两侧能够显示从`timetable.txt`中读取的标语

### Pre - 2.0 (原 15Clock v2.0)  
- 基于 python Pygame 重写了15Clock，其外部读取文件`timetable.txt`兼容上一版本
- 包含 Pre - 1.0 版本中除标语显示外的所有功能
- 添加了暗色模式、简略模式、是否跟进计划、重新读取数据的按钮及其功能
- 添加了侧边的计划单区域，调整了原有元素的位置
- 现在窗口中的元素能够自动适应窗口大小

### 正式版 1.0 (原 15Clock v2.1)
- 紧急修复了程序窗口关闭后后台进程不退出的BUG
- 现在`timetable.txt`中当天计划名称留空(即`''`)的计划会被忽略
- 更改程序名称为 DayDayUp_Clock，简称 DDU



---
好好学习 · 天天向上  
David Awwmann